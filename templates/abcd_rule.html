{% extends "base.html" %}
{% block title %}{{ _('ABCD Rule for Melanoma Detection') }}{% endblock %}

{% block content %}

<section class="hero-section abcd-hero">
    <div class="hero-content">
        <h1 class="hero-title">{{ _('ABCD Rule: Your Guide to Early Detection') }}</h1>
        <p class="lead">{{ _('Learn how dermatologists assess skin lesions using this proven method.') }}</p>
    </div>
</section>

<section class="container my-5 text-center">
    <h2 class="section-title">{{ _('Strategie oceny znamion melanocytowych') }}</h2>
    <p class="section-description text-muted mx-auto">
        {{ _('Do strategii oceny znamion melanocytowych skóry najczęściej cytowanych w literaturze należą strategia Argenziano (tzw. skala 7-punktowa), strategia Menzies\'a oraz strategia Stolz\'a, oparta na zastosowaniu tzw. reguły ABCD, która to jest bazą naszego formularza do wstępnej diagnostyki znamion melanocytowych.') }}</p>
</section>

<!-- SECTION 1: Overview of Strategies -->
<section class="classification-section">
    <div class="classification-card">
        <div class="classification-header text-white">
            {{ _('Strategie oceny znamion') }}
        </div>
        <div class="classification-body">
            <p>{{ _('Do najczęściej cytowanych w literaturze metod należą:') }}</p>
            <ul>
                <li>{{ _('Strategia Argenziano (skala 7-punktowa)') }}</li>
                <li>{{ _('Strategia Menzies’a') }}</li>
                <li>{{ _('Strategia Stolz’a (modyfikacja Braun-Falco) z wykorzystaniem reguły ABCD') }}</li>
            </ul>

            <h5 class="mt-4">{{ _('Strategia Stolz’a') }}</h5>
            <p>
                {{ _('Strategia ta, będąca modyfikacją podejścia Braun-Falco, wykorzystuje regułę ABCD do oceny znamion melanocytowych. Każda litera odpowiada jednej z kluczowych cech znamienia:') }}
            </p>
            <ul>
                <li><strong>A – {{ _('Asymetria') }}</strong>{{ _('ocena stopnia asymetrii kształtu i struktury znamienia') }}</li>
                <li><strong>B – {{ _('Brzeg') }}</strong>{{ _('charakterystyka brzegu – czy jest regularny czy nieregularny') }}</li>
                <li><strong>C – {{ _('Kolor') }}</strong>{{ _('liczba występujących kolorów spośród dopuszczalnych sześciu') }}</li>
                <li><strong>D – {{ _('Różnorodność struktur') }}</strong>{{ _('liczba różnych struktur w obrębie znamienia spośród pięciu możliwych') }}</li>
            </ul>
            <p>
                {{ _('Strategia Stolz’a stanowi podstawę naszego formularza do wstępnej diagnostyki znamion melanocytowych.') }}
            </p>
        </div>
    </div>
</section>

<!-- SECTION 2: Detailed ABCD Factors -->
<section class="classification-section">
    <!-- ASYMMETRY -->
    <div class="classification-card">
        <div class="classification-header secondary text-white">
            {{ _('A - Asymetria') }}
        </div>
        <div class="classification-body">
            <h3>{{ _('Procedura oceny asymetrii') }}</h3>
            <div class="row g-4">
                <div class="col-md-6">
                    <p>{{ _('Asymetria polega na wyznaczeniu liczby dwukrotnych osi symetrii:') }}</p>
                    <ol>
                        <li>{{ _('Poszukiwanie pierwszej osi dwukrotnej') }}</li>
                        <li>{{ _('Poszukiwanie drugiej osi prostopadłej') }}</li>
                    </ol>
                    <img src="{{ url_for('static', filename='images/abcd/asym_axes.png') }}" 
                         class="" 
                         alt="{{ _('Wyznaczanie osi symetrii') }}">
                    <p class="text-muted small">{{ _('Ryc. 1: Przykład wyznaczania osi symetrii') }}</p>
                </div>
                <div class="col-md-6">
                    <h4>{{ _('Kryteria punktacji') }}</h4>
                    <div class="scoring-table table-responsive">
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>{{ _('Liczba osi') }}</th>
                                    <th>{{ _('Opis') }}</th>
                                    <th>{{ _('Punkty') }}</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>2</td>
                                    <td>{{ _('Dwie prostopadłe osie symetrii') }}</td>
                                    <td>0</td>
                                </tr>
                                <tr>
                                    <td>1</td>
                                    <td>{{ _('Tylko jedna oś symetrii') }}</td>
                                    <td>1</td>
                                </tr>
                                <tr>
                                    <td>0</td>
                                    <td>{{ _('Brak osi symetrii') }}</td>
                                    <td>2</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="example-gallery row mt-3">
                        <div class="col-4">
                            <img src="{{ url_for('static', filename='images/abcd/asym_0.png') }}" 
                                 class="img-fluid" 
                                 alt="{{ _('Symetryczne znamię (0 pkt)') }}">
                            <p class="text-center small">{{ _('Wartość 0') }}</p>
                        </div>
                        <div class="col-4">
                            <img src="{{ url_for('static', filename='images/abcd/asym_1.png') }}" 
                                 class="img-fluid" 
                                 alt="{{ _('Asymetria 1 pkt') }}">
                            <p class="text-center small">{{ _('Wartość 1') }}</p>
                        </div>
                        <div class="col-4">
                            <img src="{{ url_for('static', filename='images/abcd/asym_2.png') }}" 
                                 class="img-fluid" 
                                 alt="{{ _('Asymetria 2 pkt') }}">
                            <p class="text-center small">{{ _('Wartość 2') }}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- BORDER -->
    <div class="classification-card">
        <div class="classification-header secondary text-white">
            {{ _('B - Brzeg') }}
        </div>
        <div class="classification-body">
            <h3>{{ _('Analiza oktalna brzegu') }}</h3>
            <div class="row g-4">
                <div class="col-md-6">
                    <p>{{ _('Procedura oceny:') }}</p>
                    <ul>
                        <li>{{ _('Podział znamienia na 8 części dwoma parami prostopadłych osi') }}</li>
                        <li>{{ _('Ocena ostrości przejścia w każdej części:') }}
                            <ul>
                                <li>{{ _('Ostre przejście: 1 pkt') }}</li>
                                <li>{{ _('Rozmyte: 0 pkt') }}</li>
                            </ul>
                        </li>
                    </ul>
                    <img src="{{ url_for('static', filename='images/abcd/border_division.jpg') }}" 
                         class="img-fluid bordered" 
                         alt="{{ _('Podział na 8 segmentów') }}">
                    <p class="text-muted small">{{ _('Ryc. 2: Schemat podziału brzegu') }}</p>
                </div>
                <div class="col-md-6">
                    <h4>{{ _('Badania własne WSIiZ') }}</h4>
                    <p>{{ _('Wyniki prac Hippe i Piątka:') }}</p>
                    <ul>
                        <li>{{ _('Dla B=2 istnieje 28 możliwych konfiguracji brzegu') }}</li>
                        <li>{{ _('256 kombinacji dla B=0-8') }}</li>
                    </ul>
                    <div class="row g-2">
                        <div class="col-12">
                            <img src="{{ url_for('static', filename='images/abcd/border_28cases.jpg') }}" 
                                 class="img-fluid" 
                                 alt="{{ _('28 konfiguracji brzegu') }}">
                            <p class="text-muted small">{{ _('Ryc. 3: Przykładowe konfiguracje dla B=2') }}</p>
                        </div>
                        <div class="col-6">
                            <img src="{{ url_for('static', filename='images/abcd/border_combination1.jpg') }}" 
                                 class="img-fluid" 
                                 alt="{{ _('Kombinacja 1') }}">
                        </div>
                        <div class="col-6">
                            <img src="{{ url_for('static', filename='images/abcd/border_combination2.jpg') }}" 
                                 class="img-fluid" 
                                 alt="{{ _('Kombinacja 2') }}">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- COLOR -->
    <div class="classification-card">
        <div class="classification-header secondary text-white">
            {{ _('C - Kolor') }}
        </div>
        <div class="classification-body">
            <div class="row g-4">
                <div class="col-md-6">
                    <h3>{{ _('Dopuszczalne kolory') }}</h3>
                    <p>{{ _('Zbiór 6 kolorów:') }}</p>
                    <ul>
                        <li>{{ _('Biały') }}</li>
                        <li>{{ _('Błękitny') }}</li>
                        <li>{{ _('Ciemnobrązowy') }}</li>
                        <li>{{ _('Jasnobrązowy') }}</li>
                        <li>{{ _('Czarny') }}</li>
                        <li>{{ _('Czerwony') }}</li>
                    </ul>
                    <img src="{{ url_for('static', filename='images/abcd/color_chart.jpg') }}" 
                         class="img-fluid" 
                         alt="{{ _('Paleta kolorów') }}">
                    <p class="text-muted small">{{ _('Ryc. 4: Dopuszczalne kolory w regule ABCD') }}</p>
                </div>
                <div class="col-md-6">
                    <h4>{{ _('Ograniczenia metody') }}</h4>
                    <div class="alert alert-warning">
                        <p>{{ _('Badania własne wykazały:') }}</p>
                        <ul>
                            <li>{{ _('Brak różnicowania wpływu poszczególnych kolorów') }}</li>
                            <li>{{ _('Liczy się jedynie ich liczba, nie rodzaj') }}</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- DIVERSITY OF STRUCTURES -->
    <div class="classification-card">
        <div class="classification-header secondary text-white">
            {{ _('D - Różnorodność struktur') }}
        </div>
        <div class="classification-body">
            <div class="row g-4">
                <div class="col-md-6">
                    <h3>{{ _('Elementy strukturalne') }}</h3>
                    <p>{{ _('5 głównych struktur:') }}</p>
                    <ol>
                        <li>{{ _('Ciałka barwnikowe') }}</li>
                        <li>{{ _('Kropki barwnikowe') }}</li>
                        <li>{{ _('Pola bezstrukturalne') }}</li>
                        <li>{{ _('Rozgałęzienia pasmowate') }}</li>
                        <li>{{ _('Sieć barwnikowa') }}</li>
                    </ol>
                    <img src="{{ url_for('static', filename='images/abcd/structures.jpg') }}" 
                         class="img-fluid" 
                         alt="{{ _('Struktury znamienia') }}">
                    <p class="text-muted small">{{ _('Ryc. 5: Przykłady struktur') }}</p>
                </div>
                <div class="col-md-6">
                    <h4>{{ _('Uwagi diagnostyczne') }}</h4>
                    <div class="alert alert-warning">
                        <ul>
                            <li>{{ _('Metoda nie różnicuje znaczenia poszczególnych struktur') }}</li>
                            <li>{{ _('Decyduje jedynie ich liczba') }}</li>
                        </ul>
                    </div>
                    <h4 class="mt-4">{{ _('Związek z czerniakiem') }}</h4>
                    <p>{{ _('Znaczące zróżnicowanie (>3 struktury) zwiększa prawdopodobieństwo czerniaka.') }}</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- SECTION 3: TDS Calculation -->
<section class="container my-5">
    <div class="classification-card">
        <div class="classification-header bg-secondary text-white">
            {{ _('Parametr TDS') }}
        </div>
        <div class="classification-body">
            <div class="row g-4">
                <div class="col-md-6">
                    <h3>{{ _('Wzór Braun-Falco/Stolz’a') }}</h3>
                    <div class="formula-box p-4 bg-light">
                        <code>TDS = 1.3×A + 0.1×B + 0.5×C + 0.5×D</code>
                    </div>
                    <h4 class="mt-4">{{ _('Interpretacja wyniku') }}</h4>
                    <table class="table table-bordered">
                        <thead>
                            <tr><th>TDS</th><th>{{ _('Klasyfikacja') }}</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>&lt;4.75</td><td>{{ _('Łagodne') }}</td></tr>
                            <tr><td>4.75–5.45</td><td>{{ _('Podejrzane') }}</td></tr>
                            <tr><td>&gt;5.45</td><td>{{ _('Złośliwe') }}</td></tr>
                        </tbody>
                    </table>
                </div>
                <div class="col-md-6">
                    <h3>{{ _('Przykład kliniczny') }}</h3>
                    <p>{{ _('Parametry znamienia:') }}</p>
                    <ul>
                        <li>{{ _('A=2 (asymetria)') }}</li>
                        <li>{{ _('B=1 (brzeg)') }}</li>
                        <li>{{ _('C=2 (kolory: ciemno/jasnobrązowy)') }}</li>
                        <li>{{ _('D=2 (struktury)') }}</li>
                    </ul>
                    <div class="calculation-box p-3 bg-light">
                        <code>TDS = 1.3×2 + 0.1×1 + 0.5×2 + 0.5×2 = 4.7</code>
                    </div>
                    <p class="mt-3">{{ _('Klasyfikacja: <strong>znamię podejrzane</strong>') | safe }}</p>
                    <img src="{{ url_for('static', filename='images/abcd/tds_example.jpg') }}" 
                         class="img-fluid" 
                         alt="{{ _('Przykładowe znamię') }}">
                    <p class="text-muted small">{{ _('Ryc. 6: Znamie o TDS=4.7') }}</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- SECTION 4: Clinical Validation -->
<section class="container my-5">
    <div class="classification-card">
        <div class="classification-header bg-dark text-white">
            {{ _('Walidacja kliniczna') }}
        </div>
        <div class="classification-body">
            <h3>{{ _('Zalety reguły ABCD') }}</h3>
            <ul>
                <li>{{ _('Powszechnie stosowana w Europie Zachodniej i Polsce') }}</li>
                <li>{{ _('Lepsza skuteczność u mniej doświadczonych klinicystów') }}</li>
                <li>{{ _('Standaryzacja procesu diagnostycznego') }}</li>
            </ul>
            <h3 class="mt-4">{{ _('Porównanie ze strategią 7-punktową') }}</h3>
            <p>{{ _('Badania wykazują wyższą skuteczność reguły ABCD w wykrywaniu wczesnych stadiów czerniaka.') }}</p>
        </div>
    </div>
</section>

{% endblock %}